# 简介

* `vue`的两大核心功能：

  * **声明式渲染**：`vue`基于标准的`HTML`拓展了一套模板语法，使得我们可以声明式地描述最终输出的`HTML`和`javascript`状态之间的关系
  * **响应式**：`vue`会自动跟踪`javascript`状态并在其发生变化的时候响应式地更新`DOM`

* `SPA(single page application)`：`SPA`是一种网络应用程序模型，通过动态重写当前页面来与用户交互，避免了页面之间的切换而打断用户体
验的连续性；在任何时候单页应用都不会主动重新进行页面加载，也不会将控制权转移到其它页面

  * 优点：

    * 同时具有桌面应用的即时性、`web`应用的可移植性和可访问性
    * 用户体验好，内容的切换不需要重新加载页面，切换快
    * 良好的前后端分离，分工更明确

  * 缺点：

    * 首页加载较慢
    * 不利于搜索引擎的抓取，难以做`SEO`优化

* `vue2`和`vue3`的区别：

  * 数据监测机制的变化
    * `vue3`使用`es6`的`proxy API`进行数据代理，检测整个对象而不是对象的某个属性；消除了`vue2`当中基于`Object.defineProperty`的实
    现所存在的很多限制；从而可以监测到对象属性的添加和删除，可以监听数组的变化
    * `vue3`支持`Map`、`Set`、`WeakMap`和`WeakSet`
  * `vue3`支持碎片化`(fragments)`；组件模板中可存在多个根节点
  * `vue3`增加了组合式`(composition) API`
  * 建立响应式数据方式的不同
  * 生命周期的区别
  * 渲染性能优化：

    * 使用`patchFlag`进行静态标记
    * 事件回调函数进行缓存，减少重复传递的开销
  
  * 虚拟DOM`Diff`算法优化：

    * vue2中当页面数据发生变化时，运行时会遍历判断虚拟dom的节点有无变化
    * vue3采用了静态提升的技术，对于不参与更新的dom只会创建一次，渲染时直接使用
    * 同时也区分不同的动态节点，方便进行节点的快速对比
  
  * 代码打包时支持使用Tree Shaking进行优化
  * 更完整的Typescript支持以及完善的类型系统
  * 总结：`vue3`性能更高, 体积更小, 更利于复用, 代码维护更方便

* 针对vue3的性能优化，web应用性能主要涉及两个方面：

  * 页面加载优化

    * 包体积与Tree-shaking优化
    * 服务端渲染（SSR）
    * 代码分割

  * 更新性能优化

    * 减少子组件props不必要的改变
    * 对于计算属性，避免不必要的副作用触发
    * 使用`v-once`、`v-memo`指令

  * 通用的性能优化技巧

    * 使用虚拟列表
    * 使用`shallowRef`或`shallowReactive`避免深层的响应式监听
    * 避免不必要的组件抽象
