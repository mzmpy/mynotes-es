import{a as q}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-NGPQU6ZU.js";import{a as k}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-DDDZJXYQ.js";import{a as J}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-7Y3T3MPN.js";import{B as M,C as A,Ga as B,H as O,N as T,P as X,U as z,V,ha as F,ka as I,ra as G,wa as U,za as j}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-GAQUD54E.js";import"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-CWNO5H2I.js";import{a as v}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-UUYEHL2W.js";import{A as b,H as g,L as y,aa as m,f as t,g as r,pa as a,xa as P,z as E}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-M2CGHGHN.js";r();P();r();r();r();P();r();var Y={"gl-canvas":{name:"src__components__mdx__constituents__threejs__use-obj-and-gltf__xiaomiSu7__index-VHaLDW-gl-canvas",composes:[],isReferenced:!1}},W=(o=>e=>{if(typeof e!="string")throw new TypeError("resolveStyles: parameter 'className' must be a string.");return o[e.replace(/[A-Z]/g,d=>"-"+d.toLowerCase())].name})(Y);var ee="/mynotes-es/resource/three/models/xiaomiSu7/xiaomiSu7.glb",$=g({name:"ThreeJsXiaomiSu7Car",setup(){let o=E(),e=b(),d=E(0),S=E(""),_=new G,i=new V,w=new X(45,3/2,.1,5e3),n=new j(16777215,2.5),Z=new U(11657727,12155424,2);return w.position.set(0,10,35),n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,n.position.set(20,50,0),n.castShadow=!0,y(()=>{let K=new F(1e3),c=new J(w,o.value),Q=new I({color:5263959,roughness:.7,metalness:.3}),x=new T(K,Q);x.rotation.x=-.5*Math.PI,x.receiveShadow=!0,i.add(x);let H=new k(_),L=new q;L.setDecoderPath("/mynotes-es/resource/three/gltf/"),H.setDRACOLoader(L),H.load(ee,R=>{let u=R.scene,s=u.children[0];u.traverse(f=>{f instanceof T&&(f.castShadow=!0,f.receiveShadow=!0,f.geometry?.computeVertexNormals())}),s.scale.multiplyScalar(5),s.rotation.z=.6*Math.PI,s.position.set(0,.1,0);let l=new A().setFromObject(s),p=l.getSize(new M),h=l.getCenter(new M);n.shadow.camera.left=h.x-p.x/2,n.shadow.camera.right=h.x+p.x/2,n.shadow.camera.top=(h.z+p.z/2)*2.5,n.shadow.camera.bottom=(h.z-p.z/2)*2.5,n.shadow.camera.updateProjectionMatrix(),i.add(s),c.update(),requestAnimationFrame(D)});let D=()=>{e.value.render(i,w),requestAnimationFrame(D)};_.onProgress=(R,u,s)=>{let l=Math.round(u/s*100);console.log(`loaded ${l}%`,R),S.value="\u6B63\u5728\u52A0\u8F7D\u8D44\u6E90...",d.value=l},e.value=new z({antialias:!0,canvas:o.value}),e.value.shadowMap.enabled=!0,e.value.setPixelRatio(10),i.add(Z,n),i.background=new O(0),c.target.set(0,5,0),c.maxDistance=300,c.maxPolarAngle=1/2*Math.PI,c.update()}),()=>a(m,null,a(B,{showAnimation:!1,progress:d.value,progressTitle:S.value},{canvas:()=>a("canvas",{class:W("gl-canvas"),ref:o})}))}});function N(o){let e=Object.assign({h1:"h1",ul:"ul",li:"li"},v(),o.components);return t.h(t.Fragment,null,t.h(e.h1,null,"\u5C0F\u7C73Su7\u65B0\u80FD\u6E90\u6C7D\u8F66\u4F8B\u5B50\u{1F330}"),`
`,t.h(e.ul,null,`
`,t.h(e.li,null,`
`,t.h($),`
`),`
`))}function oe(o={}){let{wrapper:e}=Object.assign({},v(),o.components);return e?t.h(e,o,t.h(N,o)):N(o)}var C=oe;var Ce=g({name:"MDX_07-XIAOMISU7",components:{MDXComponentContext:C},setup(o,e){return()=>a("div",{class:"markdown-body",style:"padding: 15px;"},a(C,{...e?.attrs}))}});export{Ce as default};
