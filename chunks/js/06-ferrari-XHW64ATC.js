import{a as re}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-YF3SBXIQ.js";import{a as te}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-ZFJFZXD6.js";import{a as ee}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-NETRTOZY.js";import{B as y,C as V,Ga as Y,H as X,M as I,N as v,P as J,U as q,V as U,ba as k,ca as W,ha as $,ja as C,ka as u,ra as Z,wa as K,za as Q}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-KDISY3RC.js";import"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-CWNO5H2I.js";import{a as H}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-UUYEHL2W.js";import{A as F,H as x,L as z,aa as h,f as a,g as i,pa as l,xa as G,z as M}from"https://mzmpy.github.io/mynotes-es/chunks/js/chunk-M2CGHGHN.js";i();G();i();i();i();G();i();var fe={"gl-canvas":{name:"src__components__mdx__constituents__threejs__use-obj-and-gltf__ferrariCar__index-5JXGqa-gl-canvas",composes:[],isReferenced:!1}},ae=(r=>t=>{if(typeof t!="string")throw new TypeError("resolveStyles: parameter 'className' must be a string.");return r[t.replace(/[A-Z]/g,p=>"-"+p.toLowerCase())].name})(fe);var he="/mynotes-es/resource/three/models/ferrariCar/ferrari.glb",oe=x({name:"ThreeJsFerrariCar",setup(){let r=M(),t=F(),p=M(0),P=M(""),e,T,B=!1,g=_=>new y(_,0,_*Math.tan(.1*Math.PI)),S=new Z,m=new U,E=new J(45,3/2,.1,5e3),o=new Q(16777215,2.5),se=new K(11657727,12155424,2),L=g(-70),ie=g(0);return E.position.set(0,30,105),o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.position.set(20,50,0),o.castShadow=!0,z(()=>{let le=new $(1e3),d=new ee(E,r.value),ce=new u({color:5263959,roughness:.7,metalness:.3}),b=new v(le,ce),j=new I,me=new k({color:16734003,lineWidth:10});j.setFromPoints([L,ie]);let de=new W(j,me);b.rotation.x=-.5*Math.PI,b.receiveShadow=!0,m.add(b,de);let D=new te(S),N=new re;N.setDecoderPath("/mynotes-es/resource/three/gltf/"),D.setDRACOLoader(N),D.load(he,n=>{e=n.scene.children[0],e.scale.multiplyScalar(5),e.rotation.y=-.6*Math.PI,e.position.copy(L);let s=new C({color:16760163,metalness:1,roughness:.5});e.getObjectByName("rim_fl").material=s,e.getObjectByName("rim_fr").material=s,e.getObjectByName("rim_rl").material=s,e.getObjectByName("rim_rr").material=s,e.getObjectByName("trim").material=s,e.getObjectByName("steering_centre").material=new C({color:12632256,roughness:.25,metalness:.45}),e.getObjectByName("body").material=new u({color:5988217,metalness:1,roughness:.7,clearcoat:1,clearcoatRoughness:.1}),e.getObjectByName("glass").material=new u({color:16777215,metalness:.15,roughness:0,transmission:1}),e.getObjectByName("grills").material=new u({color:16777215,metalness:1,roughness:.7,clearcoat:1,clearcoatRoughness:.1}),m.add(e),requestAnimationFrame(A)});let A=n=>{T||(T=n),t.value.render(m,E);let f=(n-T)/1e4;if(f<=1)e.position.copy(g(-70*(1-f))),e.getObjectByName("wheel_fl").rotation.x=-n*.007,e.getObjectByName("wheel_fr").rotation.x=-n*.007,e.getObjectByName("wheel_rl").rotation.x=-n*.007,e.getObjectByName("wheel_rr").rotation.x=-n*.007;else if(!B){B=!0,e.position.copy(g(0)),E.position.set(15,30,22.5),e.traverse(R=>{R instanceof v&&(R.castShadow=!0,R.receiveShadow=!0,R.geometry?.computeVertexNormals())});let s=new V().setFromObject(e),c=s.getSize(new y),w=s.getCenter(new y);o.shadow.camera.left=w.x-c.x/2,o.shadow.camera.right=w.x+c.x/2,o.shadow.camera.top=(w.z+c.z/2)*2.5,o.shadow.camera.bottom=(w.z-c.z/2)*2.5,o.shadow.camera.updateProjectionMatrix()}d.update(),requestAnimationFrame(A)};S.onProgress=(n,f,s)=>{let c=Math.round(f/s*100);console.log(`loaded ${c}%`,n),P.value="\u6B63\u5728\u52A0\u8F7D\u8D44\u6E90...",p.value=c},t.value=new q({antialias:!0,canvas:r.value}),t.value.shadowMap.enabled=!0,t.value.setPixelRatio(10),m.add(se,o),m.background=new X(0),d.target.set(0,5,0),d.maxDistance=300,d.maxPolarAngle=1/2*Math.PI,d.update()}),()=>l(h,null,l(Y,{showAnimation:!1,progress:p.value,progressTitle:P.value},{canvas:()=>l("canvas",{class:ae("gl-canvas"),ref:r})}))}});function ne(r){let t=Object.assign({h1:"h1",ul:"ul",li:"li"},H(),r.components);return a.h(a.Fragment,null,a.h(t.h1,null,"\u6CD5\u62C9\u5229\u8DD1\u8F66\u4F8B\u5B50\u{1F330}"),`
`,a.h(t.ul,null,`
`,a.h(t.li,null,`
`,a.h(oe),`
`),`
`))}function ue(r={}){let{wrapper:t}=Object.assign({},H(),r.components);return t?a.h(t,r,a.h(ne,r)):ne(r)}var O=ue;var Ne=x({name:"MDX_06-FERRARI",components:{MDXComponentContext:O},setup(r,t){return()=>l("div",{class:"markdown-body",style:"padding: 15px;"},l(O,{...t?.attrs}))}});export{Ne as default};
